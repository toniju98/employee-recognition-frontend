import{j as e,c as P,T as s,J as W,a1 as x,b as w,F as S,y as A,d as j,X as n,a9 as p,aa as b,ab as y,ac as u,ad as r,ae as v}from"./mui-253f51e6.js";import{r as a}from"./vendor-e1e3bd03.js";import{a as T}from"./index-7063af5f.js";import"./router-2d7623d0.js";import"./auth-01303d9d.js";import"./utils-ef1a3bf2.js";function k(){const[i,o]=a.useState(null),[d,l]=a.useState(null),[g,c]=a.useState(!0),[t,E]=a.useState(null),[m,R]=a.useState("monthly"),f=async()=>{c(!0);try{const[h,C]=await Promise.all([T.get(`/analytics/organizations/engagement?timeframe=${m}`),T.get("/analytics/organizations/performance")]);o(h.data),l(C.data)}catch(h){E(h instanceof Error?h:new Error("Failed to fetch analytics"))}finally{c(!1)}};return a.useEffect(()=>{f()},[m]),{engagementMetrics:i,performanceInsights:d,loading:g,error:t,timeframe:m,setTimeframe:R,refreshAnalytics:f}}function F(){const{engagementMetrics:i,performanceInsights:o,loading:d,error:l,timeframe:g,setTimeframe:c}=k();return d?e.jsx(P,{}):l?e.jsx(s,{color:"error",children:l.message}):e.jsxs(W,{maxWidth:"lg",sx:{py:4},children:[e.jsx(x,{sx:{p:3,mb:4,borderRadius:2,background:"linear-gradient(135deg, #1976d2 0%, #1565c0 100%)",color:"white"},children:e.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(s,{variant:"h4",sx:{fontWeight:600},children:"Analytics Dashboard"}),e.jsx(S,{sx:{minWidth:200},size:"small",children:e.jsxs(A,{value:g,onChange:t=>c(t.target.value),sx:{backgroundColor:"rgba(255,255,255,0.15)",color:"white",".MuiSelect-icon":{color:"white"},"&:hover":{backgroundColor:"rgba(255,255,255,0.25)"}},children:[e.jsx(j,{value:"WEEK",children:"Last Week"}),e.jsx(j,{value:"MONTH",children:"Last Month"}),e.jsx(j,{value:"YEAR",children:"Last Year"})]})})]})}),e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{item:!0,xs:12,md:6,children:e.jsxs(x,{sx:{p:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Engagement Overview"}),e.jsx(n,{container:!0,spacing:2,children:e.jsxs(n,{item:!0,xs:6,children:[e.jsx(s,{variant:"subtitle2",children:"Total Recognitions"}),e.jsx(s,{variant:"h4",children:i==null?void 0:i.totalRecognitions})]})})]})}),e.jsx(n,{item:!0,xs:12,children:e.jsxs(x,{sx:{p:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Department Performance"}),e.jsx(p,{children:e.jsxs(b,{children:[e.jsx(y,{children:e.jsxs(u,{children:[e.jsx(r,{children:"Department"}),e.jsx(r,{align:"right",children:"Average Points"}),e.jsx(r,{align:"right",children:"Total Recognitions"}),e.jsx(r,{align:"right",children:"Active Users"})]})}),e.jsx(v,{children:o==null?void 0:o.departmentStats.map(t=>e.jsxs(u,{children:[e.jsx(r,{children:t.department}),e.jsx(r,{align:"right",children:t.averagePoints}),e.jsx(r,{align:"right",children:t.totalRecognitions}),e.jsx(r,{align:"right",children:t.activeUsers})]},t.department))})]})})]})}),e.jsx(n,{item:!0,xs:12,children:e.jsxs(x,{sx:{p:3,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Performance Insights"}),e.jsx(p,{children:e.jsxs(b,{children:[e.jsx(y,{children:e.jsxs(u,{sx:{backgroundColor:"rgba(25, 118, 210, 0.08)"},children:[e.jsx(r,{sx:{fontWeight:600},children:"Employee"}),e.jsx(r,{sx:{fontWeight:600},children:"Department"}),e.jsx(r,{sx:{fontWeight:600},children:"Points"}),e.jsx(r,{sx:{fontWeight:600},children:"Recognitions"})]})}),e.jsx(v,{})]})})]})})]})]})}export{F as default};
