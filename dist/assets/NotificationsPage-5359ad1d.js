import{j as e,J as n,a1 as l,K as f,T as r,b as i,h as I,a2 as k,a3 as C,a4 as d,I as N,a5 as b,$ as E,L as S,a6 as x,g as v,a7 as D,a8 as L,M as R,S as T,C as w,E as A}from"./mui-253f51e6.js";import{c as B}from"./index-7063af5f.js";import{u as M}from"./utils-ef1a3bf2.js";import"./vendor-e1e3bd03.js";import"./router-2d7623d0.js";import"./auth-01303d9d.js";function G(){const{notifications:t,loading:h,error:c,markAsRead:m,deleteNotifications:j,selectedNotifications:a,toggleNotificationSelection:p}=B(),{enqueueSnackbar:o}=M(),g=async()=>{if(a.length===0)return;await j(a)?o("Notifications deleted successfully",{variant:"success"}):o("Failed to delete notifications",{variant:"error"})},u=s=>{switch(s){case"RECOGNITION":return e.jsx(A,{color:"primary"});case"REWARD":return e.jsx(w,{color:"secondary"});case"ACHIEVEMENT":return e.jsx(T,{sx:{color:"gold"}});case"POINTS":return e.jsx(R,{color:"success"});default:return e.jsx(L,{})}};return h?e.jsx(n,{maxWidth:"md",sx:{py:4},children:[1,2,3].map(s=>e.jsx(l,{sx:{mb:2,p:2},children:e.jsx(f,{variant:"rectangular",height:60})},s))}):c?e.jsx(n,{maxWidth:"md",sx:{py:4},children:e.jsxs(r,{color:"error",children:["Error loading notifications: ",c.message]})}):e.jsxs(n,{maxWidth:"md",sx:{py:4},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(r,{variant:"h4",component:"h1",children:"Notifications"}),a.length>0&&e.jsxs(I,{variant:"contained",color:"error",startIcon:e.jsx(k,{}),onClick:g,children:["Delete Selected (",a.length,")"]})]}),e.jsx(l,{children:e.jsxs(C,{children:[t.map((s,y)=>e.jsxs(e.Fragment,{children:[e.jsxs(d,{sx:{bgcolor:s.read?"transparent":"action.hover",transition:"background-color 0.2s"},secondaryAction:e.jsx(i,{sx:{display:"flex",gap:1},children:!s.read&&e.jsx(N,{edge:"end",onClick:()=>m(s._id),title:"Mark as read",children:e.jsx(b,{color:"action"})})}),children:[e.jsx(E,{checked:a.includes(s._id),onChange:()=>p(s._id),sx:{mr:1}}),e.jsx(S,{children:u(s.type)}),e.jsx(x,{primary:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.title,!s.read&&e.jsx(v,{label:"New",size:"small",color:"primary",sx:{height:20}})]}),secondary:e.jsxs(e.Fragment,{children:[s.message,e.jsx(r,{component:"span",variant:"caption",sx:{display:"block",mt:.5},children:new Date(s.createdAt).toLocaleString()})]})})]},s._id),y<t.length-1&&e.jsx(D,{})]})),t.length===0&&e.jsx(d,{children:e.jsx(x,{primary:e.jsx(r,{align:"center",color:"textSecondary",children:"No notifications yet"})})})]})})]})}export{G as default};
